<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rapport d'Audit - AutoCalc OptiDevis v3.0.0</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #1e3a8a 0%, #7c3aed 100%);
            min-height: 100vh;
            padding: 2rem;
            color: #1f2937;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #1e3a8a 0%, #7c3aed 100%);
            color: white;
            padding: 3rem;
            text-align: center;
        }
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }
        .header .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        .header .date {
            margin-top: 1rem;
            opacity: 0.8;
            font-size: 0.9rem;
        }

        /* Score global */
        .global-score {
            background: linear-gradient(135deg, #f0f9ff 0%, #e0e7ff 100%);
            padding: 3rem;
            text-align: center;
        }
        .score-circle {
            width: 200px;
            height: 200px;
            margin: 0 auto 2rem;
            border-radius: 50%;
            background: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            border: 8px solid #f59e0b;
        }
        .score-value {
            font-size: 4rem;
            font-weight: bold;
            color: #f59e0b;
        }
        .score-grade {
            font-size: 2rem;
            color: #6b7280;
            margin-top: 0.5rem;
        }
        .score-label {
            font-size: 1.5rem;
            color: #374151;
            margin-top: 1rem;
        }

        /* Scores par cat√©gorie */
        .category-scores {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            padding: 2rem;
            background: #f9fafb;
        }
        .category-card {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .category-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        .category-name {
            font-size: 1.3rem;
            font-weight: bold;
            color: #374151;
        }
        .category-icon {
            font-size: 2rem;
        }
        .category-score {
            font-size: 2.5rem;
            font-weight: bold;
            text-align: center;
            margin-bottom: 1rem;
        }
        .score-bar {
            width: 100%;
            height: 12px;
            background: #e5e7eb;
            border-radius: 6px;
            overflow: hidden;
        }
        .score-fill {
            height: 100%;
            transition: width 1s ease;
            border-radius: 6px;
        }

        /* Issues summary */
        .issues-summary {
            padding: 2rem;
            background: white;
            border-top: 1px solid #e5e7eb;
        }
        .issues-title {
            font-size: 1.8rem;
            font-weight: bold;
            margin-bottom: 1.5rem;
            color: #374151;
        }
        .issues-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
        }
        .issue-card {
            background: #f9fafb;
            border-radius: 10px;
            padding: 1.5rem;
            text-align: center;
            border-left: 4px solid;
        }
        .issue-count {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }
        .issue-label {
            color: #6b7280;
            font-size: 0.9rem;
        }

        /* Sections d√©taill√©es */
        .detailed-sections {
            padding: 2rem;
        }
        .section {
            background: white;
            border-radius: 12px;
            margin-bottom: 2rem;
            border: 1px solid #e5e7eb;
            overflow: hidden;
        }
        .section-header {
            background: #f3f4f6;
            padding: 1.5rem;
            font-weight: bold;
            font-size: 1.4rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .section-score {
            font-size: 1.2rem;
            color: #6b7280;
        }
        .checks-list {
            padding: 1.5rem;
        }
        .check-item {
            padding: 1rem;
            border-bottom: 1px solid #f3f4f6;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
        }
        .check-item:last-child {
            border-bottom: none;
        }
        .check-info {
            flex: 1;
        }
        .check-name {
            font-weight: 600;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .check-message {
            color: #6b7280;
            font-size: 0.9rem;
        }
        .check-status {
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            font-size: 0.85rem;
            font-weight: 600;
            white-space: nowrap;
        }
        .check-details {
            margin-top: 0.5rem;
            padding: 0.75rem;
            background: #f9fafb;
            border-radius: 6px;
            font-size: 0.85rem;
            font-family: monospace;
        }

        /* Footer */
        .footer {
            background: #f9fafb;
            padding: 2rem;
            text-align: center;
            color: #6b7280;
            border-top: 1px solid #e5e7eb;
        }
        .footer h3 {
            margin-bottom: 1rem;
            color: #374151;
        }
        .badges {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 1rem;
            flex-wrap: wrap;
        }
        .badge {
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            font-size: 0.9rem;
            font-weight: 600;
        }
        .badge-success { background: #10b981; color: white; }
        .badge-info { background: #3b82f6; color: white; }
        .badge-warning { background: #f59e0b; color: white; }

        /* Recommandations */
        .recommendations {
            padding: 2rem;
            background: #fffbeb;
            border-top: 1px solid #fcd34d;
        }
        .recommendations h2 {
            color: #92400e;
            margin-bottom: 1rem;
        }
        .recommendation-item {
            padding: 1rem;
            background: white;
            border-radius: 8px;
            margin-bottom: 0.5rem;
            border-left: 4px solid #f59e0b;
        }

        @media (max-width: 768px) {
            .header h1 { font-size: 1.8rem; }
            .category-scores { grid-template-columns: 1fr; }
            .score-circle { width: 150px; height: 150px; }
            .score-value { font-size: 3rem; }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>üîç Rapport d'Audit Professionnel</h1>
            <div class="subtitle">AutoCalc OptiDevis v3.0.0</div>
            <div class="date">üìÖ mercredi 22 octobre 2025 √† 03:51:12</div>
        </div>

        <!-- Score global -->
        <div class="global-score">
            <div class="score-circle">
                <div class="score-value">72</div>
                <div class="score-grade">B</div>
            </div>
            <div class="score-label">Score Global de Qualit√©</div>
        </div>

        <!-- Scores par cat√©gorie -->
        <div class="category-scores">
            <div class="category-card">
                <div class="category-header">
                    <span class="category-name">üîí S√©curit√©</span>
                    <span class="category-icon">üõ°Ô∏è</span>
                </div>
                <div class="category-score" style="color: #f59e0b">
                    65/100
                </div>
                <div class="score-bar">
                    <div class="score-fill" style="width: 65%; background: #f59e0b"></div>
                </div>
            </div>

            <div class="category-card">
                <div class="category-header">
                    <span class="category-name">üìä Qualit√©</span>
                    <span class="category-icon">‚ú®</span>
                </div>
                <div class="category-score" style="color: #f59e0b">
                    65/100
                </div>
                <div class="score-bar">
                    <div class="score-fill" style="width: 65%; background: #f59e0b"></div>
                </div>
            </div>

            <div class="category-card">
                <div class="category-header">
                    <span class="category-name">‚ö° Performance</span>
                    <span class="category-icon">üöÄ</span>
                </div>
                <div class="category-score" style="color: #10b981">
                    85/100
                </div>
                <div class="score-bar">
                    <div class="score-fill" style="width: 85%; background: #10b981"></div>
                </div>
            </div>
        </div>

        <!-- Issues Summary -->
        <div class="issues-summary">
            <h2 class="issues-title">üìã R√©sum√© des Issues</h2>
            <div class="issues-grid">
                <div class="issue-card" style="border-color: #dc2626;">
                    <div class="issue-count" style="color: #dc2626;">üî¥ 0</div>
                    <div class="issue-label">Critiques</div>
                </div>
                <div class="issue-card" style="border-color: #f59e0b;">
                    <div class="issue-count" style="color: #f59e0b;">üü† 0</div>
                    <div class="issue-label">√âlev√©es</div>
                </div>
                <div class="issue-card" style="border-color: #fbbf24;">
                    <div class="issue-count" style="color: #fbbf24;">üü° 0</div>
                    <div class="issue-label">Moyennes</div>
                </div>
                <div class="issue-card" style="border-color: #10b981;">
                    <div class="issue-count" style="color: #10b981;">üü¢ 0</div>
                    <div class="issue-label">Faibles</div>
                </div>
            </div>
        </div>

        <!-- Sections d√©taill√©es -->
        <div class="detailed-sections">
            <h2 style="margin-bottom: 1.5rem; color: #374151; font-size: 1.8rem;">üìë D√©tails par Section</h2>

            
                <div class="section">
                    <div class="section-header">
                        <span>S√©curit√©</span>
                        <span class="section-score" style="color: #f59e0b">
                            65/100
                        </span>
                    </div>
                    <div class="checks-list">
                        
                            <div class="check-item">
                                <div class="check-info">
                                    <div class="check-name">
                                        <span>‚ö†Ô∏è</span>
                                        <span>Vuln√©rabilit√©s npm</span>
                                    </div>
                                    <div class="check-message">Erreur lors de l'audit npm</div>
                                    
                                </div>
                                <div class="check-status" style="background: #f59e0b; color: white;">
                                    ERROR
                                </div>
                            </div>
                        
                            <div class="check-item">
                                <div class="check-info">
                                    <div class="check-name">
                                        <span>‚úÖ</span>
                                        <span>Content Security Policy (CSP)</span>
                                    </div>
                                    <div class="check-message">CSP stricte impl√©ment√©e</div>
                                    
                                        <div class="check-details">
                                            {
  "implemented": true,
  "strict": true
}
                                        </div>
                                    
                                </div>
                                <div class="check-status" style="background: #10b981; color: white;">
                                    PASS
                                </div>
                            </div>
                        
                            <div class="check-item">
                                <div class="check-info">
                                    <div class="check-name">
                                        <span>‚úÖ</span>
                                        <span>Configuration Electron s√©curis√©e</span>
                                    </div>
                                    <div class="check-message">3/3 param√®tres de s√©curit√© configur√©s</div>
                                    
                                        <div class="check-details">
                                            {
  "contextIsolation": true,
  "nodeIntegration": false,
  "sandbox": true
}
                                        </div>
                                    
                                </div>
                                <div class="check-status" style="background: #10b981; color: white;">
                                    PASS
                                </div>
                            </div>
                        
                            <div class="check-item">
                                <div class="check-info">
                                    <div class="check-name">
                                        <span>‚ö†Ô∏è</span>
                                        <span>Protection XSS</span>
                                    </div>
                                    <div class="check-message">√âchappement HTML impl√©ment√© (7 innerHTML non prot√©g√©s)</div>
                                    
                                        <div class="check-details">
                                            {
  "hasEscaping": true,
  "unsafeInnerHTML": 7
}
                                        </div>
                                    
                                </div>
                                <div class="check-status" style="background: #f59e0b; color: white;">
                                    WARNING
                                </div>
                            </div>
                        
                            <div class="check-item">
                                <div class="check-info">
                                    <div class="check-name">
                                        <span>‚úÖ</span>
                                        <span>Syst√®me d'authentification</span>
                                    </div>
                                    <div class="check-message">Hachage bcrypt impl√©ment√©</div>
                                    
                                        <div class="check-details">
                                            {
  "bcrypt": true,
  "sessions": true,
  "logout": true
}
                                        </div>
                                    
                                </div>
                                <div class="check-status" style="background: #10b981; color: white;">
                                    PASS
                                </div>
                            </div>
                        
                            <div class="check-item">
                                <div class="check-info">
                                    <div class="check-name">
                                        <span>‚úÖ</span>
                                        <span>Protection Path Traversal</span>
                                    </div>
                                    <div class="check-message">Sanitization des chemins impl√©ment√©e</div>
                                    
                                        <div class="check-details">
                                            {
  "hasSanitization": true,
  "unsafeOperations": 14
}
                                        </div>
                                    
                                </div>
                                <div class="check-status" style="background: #10b981; color: white;">
                                    PASS
                                </div>
                            </div>
                        
                    </div>
                </div>
            
                <div class="section">
                    <div class="section-header">
                        <span>Qualit√© du Code</span>
                        <span class="section-score" style="color: #f59e0b">
                            65/100
                        </span>
                    </div>
                    <div class="checks-list">
                        
                            <div class="check-item">
                                <div class="check-info">
                                    <div class="check-name">
                                        <span>‚úÖ</span>
                                        <span>Analyse ESLint</span>
                                    </div>
                                    <div class="check-message">0 erreurs, 0 avertissements</div>
                                    
                                        <div class="check-details">
                                            {
  "errors": 0,
  "warnings": 0
}
                                        </div>
                                    
                                </div>
                                <div class="check-status" style="background: #10b981; color: white;">
                                    PASS
                                </div>
                            </div>
                        
                            <div class="check-item">
                                <div class="check-info">
                                    <div class="check-name">
                                        <span>‚ÑπÔ∏è</span>
                                        <span>Structure du projet</span>
                                    </div>
                                    <div class="check-message">30 fichiers, 19 modules, 9 tests</div>
                                    
                                        <div class="check-details">
                                            {
  "totalFiles": 30,
  "totalLines": 24102,
  "avgLinesPerFile": 803,
  "moduleCount": 19,
  "testCount": 9
}
                                        </div>
                                    
                                </div>
                                <div class="check-status" style="background: #3b82f6; color: white;">
                                    INFO
                                </div>
                            </div>
                        
                            <div class="check-item">
                                <div class="check-info">
                                    <div class="check-name">
                                        <span>‚ùå</span>
                                        <span>Couverture de tests</span>
                                    </div>
                                    <div class="check-message">0.0% de couverture moyenne</div>
                                    
                                        <div class="check-details">
                                            {
  "lines": 0,
  "statements": 0,
  "functions": 0,
  "branches": 0
}
                                        </div>
                                    
                                </div>
                                <div class="check-status" style="background: #ef4444; color: white;">
                                    FAIL
                                </div>
                            </div>
                        
                            <div class="check-item">
                                <div class="check-info">
                                    <div class="check-name">
                                        <span>‚ùå</span>
                                        <span>Documentation</span>
                                    </div>
                                    <div class="check-message">1/3 documents cl√©s pr√©sents</div>
                                    
                                        <div class="check-details">
                                            {
  "changelog": false,
  "releaseNotes": false,
  "packageJson": true
}
                                        </div>
                                    
                                </div>
                                <div class="check-status" style="background: #ef4444; color: white;">
                                    FAIL
                                </div>
                            </div>
                        
                            <div class="check-item">
                                <div class="check-info">
                                    <div class="check-name">
                                        <span>‚úÖ</span>
                                        <span>Commentaires et JSDoc</span>
                                    </div>
                                    <div class="check-message">100% des modules document√©s</div>
                                    
                                        <div class="check-details">
                                            {
  "documented": 18,
  "total": 18
}
                                        </div>
                                    
                                </div>
                                <div class="check-status" style="background: #10b981; color: white;">
                                    PASS
                                </div>
                            </div>
                        
                    </div>
                </div>
            
                <div class="section">
                    <div class="section-header">
                        <span>Performance</span>
                        <span class="section-score" style="color: #10b981">
                            85/100
                        </span>
                    </div>
                    <div class="checks-list">
                        
                            <div class="check-item">
                                <div class="check-info">
                                    <div class="check-name">
                                        <span>‚úÖ</span>
                                        <span>Taille des fichiers</span>
                                    </div>
                                    <div class="check-message">Application: 0.82 MB, Dependencies: 592.90 MB</div>
                                    
                                        <div class="check-details">
                                            {
  "appSize": "0.82 MB",
  "nodeModules": "592.90 MB",
  "dataJson": "41.81 KB",
  "usersJson": "0.00 KB"
}
                                        </div>
                                    
                                </div>
                                <div class="check-status" style="background: #10b981; color: white;">
                                    PASS
                                </div>
                            </div>
                        
                            <div class="check-item">
                                <div class="check-info">
                                    <div class="check-name">
                                        <span>‚úÖ</span>
                                        <span>D√©pendances</span>
                                    </div>
                                    <div class="check-message">13 d√©pendances de production, 12 dev</div>
                                    
                                        <div class="check-details">
                                            {
  "production": 13,
  "development": 12,
  "total": 25
}
                                        </div>
                                    
                                </div>
                                <div class="check-status" style="background: #10b981; color: white;">
                                    PASS
                                </div>
                            </div>
                        
                            <div class="check-item">
                                <div class="check-info">
                                    <div class="check-name">
                                        <span>‚ÑπÔ∏è</span>
                                        <span>Complexit√© algorithmique</span>
                                    </div>
                                    <div class="check-message">13 fichiers avec boucles complexes, 0 fonctions longues</div>
                                    
                                        <div class="check-details">
                                            {
  "nestedLoops": 13,
  "longFunctions": 0
}
                                        </div>
                                    
                                </div>
                                <div class="check-status" style="background: #3b82f6; color: white;">
                                    INFO
                                </div>
                            </div>
                        
                            <div class="check-item">
                                <div class="check-info">
                                    <div class="check-name">
                                        <span>‚úÖ</span>
                                        <span>Tests de performance</span>
                                    </div>
                                    <div class="check-message">140 tests pass√©s avec succ√®s</div>
                                    
                                        <div class="check-details">
                                            {
  "testSuites": 9,
  "tests": 140,
  "avgDuration": "~5s"
}
                                        </div>
                                    
                                </div>
                                <div class="check-status" style="background: #10b981; color: white;">
                                    PASS
                                </div>
                            </div>
                        
                    </div>
                </div>
            
        </div>

        <!-- Recommandations -->
        
            <div style="padding: 2rem; background: #f0fdf4; text-align: center; border-top: 1px solid #86efac;">
                <h2 style="color: #166534; margin-bottom: 1rem;">‚úÖ Excellent Travail!</h2>
                <p style="color: #15803d;">Aucune issue critique ou majeure d√©tect√©e. L'application respecte les bonnes pratiques.</p>
            </div>
        

        <!-- Footer -->
        <div class="footer">
            <h3>üìä Informations sur l'Audit</h3>
            <p>Audit automatis√© g√©n√©r√© par le syst√®me de qualit√© AutoCalc OptiDevis</p>
            <p style="margin-top: 0.5rem;">Outils utilis√©s: npm audit, ESLint, Jest, analyses personnalis√©es</p>
            <div class="badges">
                <span class="badge badge-info">v3.0.0</span>
                <span class="badge badge-warning">
                    Score: 72/100
                </span>
                <span class="badge badge-info">140 Tests</span>
            </div>
            <hr style="margin: 2rem 0; border: none; border-top: 1px solid #e5e7eb;">
            <p>¬© 2025 AutoCalc OptiDevis - D√©velopp√© par David VIEY</p>
        </div>
    </div>
</body>
</html>